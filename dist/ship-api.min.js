!function(a){"use strict";a.fn.shipApi=function(b){var c=a.extend({url:"https://api.laiva-api.pw/v1"},b);a(this).html(renderShipApiSearchControls());var d=a(this);d.on("ship-select",function(a,b,d){"function"==typeof c.onShipSelect&&c.onShipSelect(b,d)});var e=a(this).find(".main-search-input");if(e.length<1)throw new Error("Search input field missing, is your theme ok?");var f=a(this).find(".main-search-results");if(f.length<1)throw new Error("Search results container missing, is your theme ok?");var g=a(this).find(".main-search-btn");if(g.length<1)throw new Error("Search button missing, is your theme ok?");g.click(function(){var b=e.val();a.getJSON(c.url+"/ships?q="+b,function(b){for(var e=[],g=0;g<b.hits.hits.length;g++){var h=b.hits.hits[g];h._source._id=h._id,e.push(h._source)}f.html(renderShipApiSearchresults({ships:e})),f.find(".searchresult").click(function(){var b=a(this).attr("data-ship-id");a(this).attr("data-ship-name");a.getJSON(c.url+"/ships/"+b,function(a){d.trigger("ship-select",[a,renderShipApiDetailModal({ship:a})])})})})}),e.keyup(function(a){13==a.keyCode&&g.click()})}}(jQuery);